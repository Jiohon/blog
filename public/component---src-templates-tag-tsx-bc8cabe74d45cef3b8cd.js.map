{"version":3,"file":"component---src-templates-tag-tsx-bc8cabe74d45cef3b8cd.js","mappings":"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","sources":["webpack://hushes/./src/components/BlogSidebar.tsx","webpack://hushes/./src/hooks/useGetTaxonomies.ts","webpack://hushes/./src/components/BlogContainer.tsx","webpack://hushes/./src/components/Hero.tsx","webpack://hushes/./src/components/Posts.tsx","webpack://hushes/./src/templates/tag.tsx"],"sourcesContent":["import { Link } from 'gatsby'\r\nimport React from 'react'\r\n\r\nimport { useGetTaxonomies } from '../hooks/useGetTaxonomies'\r\nimport { slugify } from '../utils/helpers'\r\n\r\n/**\r\n * @description 归档页面 - 侧边类别、标签信息\r\n */\r\n\r\nexport const Sidebar = () => {\r\n  const data = useGetTaxonomies()\r\n  const categories = data.categories.group\r\n  const tags = data.tags.group\r\n\r\n  return (\r\n    <>\r\n      <aside className=\"post-sidebar\">\r\n        <div className=\"post-sidebar-card\">\r\n          <h2>类别</h2>\r\n          <div className=\"list\">\r\n            {categories\r\n              .filter((category) => category.name !== 'Highlight')\r\n              .map((category) => {\r\n                return (\r\n                  <Link\r\n                    key={category.name}\r\n                    to={`/categories/${slugify(category.name)}`}\r\n                    className=\"category\"\r\n                    activeClassName=\"active\"\r\n                  >\r\n                    <div className=\"name\">{category.name}</div>\r\n                    <div className=\"count\">{category.totalCount}</div>\r\n                  </Link>\r\n                )\r\n              })}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"post-sidebar-card\">\r\n          <h2>标签</h2>\r\n          <div className=\"tags\">\r\n            {tags.map((tag) => {\r\n              return (\r\n                <Link key={tag.name} to={`/tags/${slugify(tag.name)}`} className=\"tag\" activeClassName=\"active\">\r\n                  {tag.name}\r\n                </Link>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </aside>\r\n    </>\r\n  )\r\n}\r\n","import { graphql, useStaticQuery } from 'gatsby'\n\nexport const useGetTaxonomies = (): SideData => {\n  const data = useStaticQuery(graphql`\n    query TaxonomyQuery {\n      tags: allMarkdownRemark {\n        group(field: frontmatter___tags) {\n          name: fieldValue\n          totalCount\n        }\n      }\n\n      categories: allMarkdownRemark {\n        group(field: frontmatter___categories) {\n          name: fieldValue\n          totalCount\n        }\n      }\n    }\n  `)\n\n  return data\n}\n","import React from 'react'\n\nimport { Sidebar } from './BlogSidebar'\n\ninterface Props {\n  children?: React.ReactNode\n}\n\n/**\n * @description\n */\n\nexport const BlogContainer = ({ children }: Props) => {\n  return (\n    <section className=\"container markdown-content\">\n      <div className=\"grid\">\n        <div className=\"article-content\">{children}</div>\n        <div className=\"sidebar-content\">\n          <Sidebar />\n        </div>\n      </div>\n    </section>\n  )\n}\n","import React from 'react'\n\ninterface Props {\n  title: string\n  highlight?: number\n  subTitle?: string\n  children?: React.ReactNode\n  index?: boolean\n}\n\n/**\n * @description 大标题\n */\n\nexport const Hero = ({ highlight, subTitle, title, children, index }: Props) => {\n  return (\n    <header className={`hero ${index ? 'index' : ''}`}>\n      {subTitle && (\n        <div className=\"sub-title\">\n          {highlight && <span className=\"highlight\">{highlight}</span>}\n          {subTitle}\n        </div>\n      )}\n      {title && <h1>{title}</h1>}\n      {children && children}\n    </header>\n  )\n}\n","import { Link } from 'gatsby'\nimport React, { useMemo } from 'react'\n\n/**\n * @description 文章组件-item\n */\n\nconst Post = ({ node, prefix }: { node: SimplifiedData; prefix?: string }) => {\n  let formattedDate\n\n  if (node.date) {\n    const dateArr = node.date.split(' ')\n    dateArr.pop()\n\n    dateArr[0] = dateArr[0].slice(0, 3)\n    formattedDate = dateArr.join(' ').slice(0, -1)\n  }\n\n  return (\n    <Link to={prefix ? `/${prefix}${node.slug}` : node.slug} key={node.id} className=\"post\">\n      <h5>{node.title}</h5>\n      <time>{formattedDate}</time>\n    </Link>\n  )\n}\n\n/**\n * @description 文章列表\n */\n\nexport const Posts = ({ data = [], prefix }: { data: SimplifiedData[]; prefix?: string }) => {\n  const postsByYear = useMemo(() => {\n    const collection: YearListData = {}\n\n    data.forEach((post) => {\n      const year = post.date?.split(', ')[1]\n\n      collection[year] = [...(collection[year] || []), post]\n    })\n\n    return collection\n  }, [data])\n\n  const years = useMemo(() => Object.keys(postsByYear).reverse(), [postsByYear])\n\n  return (\n    <>\n      {years.map((year) => (\n        <section key={year} className=\"segment\">\n          <h2 className=\"year\">{year}</h2>\n          <div className=\"posts\">\n            {postsByYear[year].map((node: SimplifiedData) => (\n              <Post key={node.id} node={node} prefix={prefix} />\n            ))}\n          </div>\n        </section>\n      ))}\n    </>\n  )\n}\n","import { graphql } from 'gatsby'\nimport React, { useMemo } from 'react'\nimport Helmet from 'react-helmet'\n\nimport { BlogContainer } from '../components/BlogContainer'\nimport { Hero } from '../components/Hero'\nimport { Posts } from '../components/Posts'\nimport { SEO } from '../components/SEO'\nimport { Layout } from '../layout/index'\nimport { TagPageQuery } from '../typings/graphql-type'\nimport config from '../utils/config'\nimport { getSimplifiedPosts } from '../utils/helpers'\n\n/**\n * @description 标签 页面\n * @date 09/10/2022\n * @export\n * @param {*} { data, pageContext }\n * @return {*}\n */\nexport default function TagTemplate({ data, pageContext }: { data: TagPageQuery; pageContext: { tag: string } }) {\n  const { tag } = pageContext\n  const { totalCount } = data.allMarkdownRemark\n  const posts = data.allMarkdownRemark.edges\n  const simplifiedPosts = useMemo(() => getSimplifiedPosts(posts), [posts])\n  const message = totalCount === 1 ? ' post tagged:' : ' posts tagged:'\n\n  return (\n    <div>\n      <Helmet title={`Posts tagged: ${tag} | ${config.siteTitle}`} />\n      <SEO />\n\n      <BlogContainer>\n        <Hero highlight={totalCount} subTitle={message} title={tag} />\n        <Posts data={simplifiedPosts} />\n      </BlogContainer>\n    </div>\n  )\n}\n\nTagTemplate.Layout = Layout\n\nexport const pageQuery = graphql`\n  query TagPage($tag: String) {\n    allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date] }\n      filter: { frontmatter: { tags: { in: [$tag] } } }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            tags\n            categories\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["Sidebar","data","useStaticQuery","categories","group","tags","React","className","filter","category","name","map","Link","key","to","slugify","activeClassName","totalCount","tag","BlogContainer","children","Hero","highlight","subTitle","title","index","Post","formattedDate","node","prefix","date","dateArr","split","pop","slice","join","slug","id","Posts","postsByYear","useMemo","collection","forEach","post","year","_post$date","years","Object","keys","reverse","TagTemplate","pageContext","allMarkdownRemark","posts","edges","simplifiedPosts","getSimplifiedPosts","message","Helmet","config","SEO","Layout"],"sourceRoot":""}