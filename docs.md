# ğŸš€ Blog é¡¹ç›®å¼€å‘æ–‡æ¡£

<div align="center">

[![LICENSE](https://img.shields.io/badge/License-MIT-Green.svg)](https://github.com/Jiohon/blog/blob/master/LICENSE)
[![Node](https://img.shields.io/badge/Node.js-%23339933?logo=node.js&logoColor=white)](https://nodejs.org)
[![Gatsby](https://img.shields.io/badge/Gatsby-%23663399?logo=gatsby&logoColor=white)](https://www.gatsbyjs.com)
[![MDX](https://img.shields.io/badge/MDX-%236659D3?logo=mdx&logoColor=white)](https://mdxjs.com)
[![Ant Design](https://img.shields.io/badge/Ant%20Design-%230170FE?logo=ant-design&logoColor=white)](https://ant.design)

**åŸºäº Gatsby + React + TypeScript çš„ç°ä»£åŒ–ä¸ªäººåšå®¢ç³»ç»Ÿ**

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—) â€¢ [éƒ¨ç½²](#-æ„å»ºå’Œéƒ¨ç½²)

</div>

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è§ˆ](#-é¡¹ç›®æ¦‚è§ˆ)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¼€å‘ç¯å¢ƒé…ç½®](#-å¼€å‘ç¯å¢ƒé…ç½®)
- [ä»£ç è§„èŒƒä¸å·¥å…·é“¾](#-ä»£ç è§„èŒƒä¸å·¥å…·é“¾)
- [å¼€å‘å·¥ä½œæµ](#-å¼€å‘å·¥ä½œæµ)
- [æ„å»ºå’Œéƒ¨ç½²](#-æ„å»ºå’Œéƒ¨ç½²)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

## ğŸ¯ é¡¹ç›®æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼ŒåŸºäº Gatsby é™æ€ç«™ç‚¹ç”Ÿæˆå™¨æ„å»ºï¼Œæ”¯æŒ MDX æ ¼å¼çš„æ–‡ç« ç¼–å†™ï¼Œé›†æˆäº†å®Œå–„çš„å¼€å‘å·¥å…·é“¾å’Œä»£ç è´¨é‡ä¿è¯æœºåˆ¶ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ“ **MDX æ”¯æŒ**: åœ¨ Markdown ä¸­ä½¿ç”¨ React ç»„ä»¶
- ğŸ¨ **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜
- ğŸ” **ä»£ç é«˜äº®**: åŸºäº Prism.js çš„è¯­æ³•é«˜äº®
- ğŸ“Š **æ•°å­¦å…¬å¼**: æ”¯æŒ LaTeX æ•°å­¦å…¬å¼æ¸²æŸ“
- ğŸ’¬ **è¯„è®ºç³»ç»Ÿ**: é›†æˆ Giscus è¯„è®º
- ğŸ® **äº¤äº’ç»„ä»¶**: æ”¯æŒä»£ç æ¼”ç¤ºå’Œ 3D æ•ˆæœ
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§è®¾å¤‡
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: SSG + å›¾ç‰‡ä¼˜åŒ–
- ğŸ”§ **å¼€å‘å·¥å…·**: å®Œæ•´çš„ ESLint/Prettier é…ç½®

## ğŸ›  æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

- **[React 18](https://reactjs.org/)** - UI æ¡†æ¶
- **[Gatsby 5](https://www.gatsbyjs.com/)** - é™æ€ç«™ç‚¹ç”Ÿæˆå™¨
- **[TypeScript](https://www.typescriptlang.org/)** - ç±»å‹å®‰å…¨

### UI å’Œæ ·å¼

- **[Ant Design 5](https://ant.design/)** - UI ç»„ä»¶åº“
- **[antd-style](https://ant-design.github.io/antd-style/)** - CSS-in-JS æ ·å¼è§£å†³æ–¹æ¡ˆ
- **[Chroma.js](https://gka.github.io/chroma.js/)** - é¢œè‰²å¤„ç†

### å†…å®¹ç®¡ç†

- **[MDX](https://mdxjs.com/)** - Markdown + React ç»„ä»¶
- **[GraphQL](https://graphql.org/)** - æ•°æ®æŸ¥è¯¢
- **[Remark/Rehype](https://github.com/remarkjs/remark)** - Markdown å¤„ç†

### å¼€å‘å·¥å…·

- **[ESLint](https://eslint.org/)** - ä»£ç æ£€æŸ¥
- **[Prettier](https://prettier.io/)** - ä»£ç æ ¼å¼åŒ–
- **[Husky](https://typicode.github.io/husky/)** - Git hooks
- **[Commitlint](https://commitlint.js.org/)** - æäº¤ä¿¡æ¯è§„èŒƒ

### å¢å¼ºåŠŸèƒ½

- **[Three.js](https://threejs.org/)** - 3D å›¾å½¢
- **[KaTeX](https://katex.org/)** - æ•°å­¦å…¬å¼æ¸²æŸ“
- **[Prism.js](https://prismjs.com/)** - ä»£ç é«˜äº®
- **[Zustand](https://github.com/pmndrs/zustand)** - çŠ¶æ€ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 18.0.0
- **pnpm**: >= 8.0.0
- **Git**: æœ€æ–°ç‰ˆæœ¬

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   git clone https://github.com/Jiohon/blog.git
   cd blog 2. **å®‰è£…ä¾èµ–**
   pnpm install 3. **æ›´æ–°å†…å®¹å­æ¨¡å—**ï¼ˆå¦‚æœä½¿ç”¨å­æ¨¡å—ç®¡ç†å†…å®¹ï¼‰
   pnpm run update-submodule 4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   pnpm dev 5. **è®¿é—®åº”ç”¨**

   æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8008`

### å¸¸ç”¨å‘½ä»¤

# å¼€å‘

pnpm dev # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm develop # æ ‡å‡†å¼€å‘æ¨¡å¼
pnpm start # å¯åŠ¨å¼€å‘æœåŠ¡å™¨

# æ„å»º

pnpm build # ç”Ÿäº§æ„å»º
pnpm build:clean # æ¸…ç†åæ„å»º
pnpm serve # æ„å»ºå¹¶é¢„è§ˆ

# ä»£ç è´¨é‡

pnpm lint # ESLint æ£€æŸ¥
pnpm lint:fix # è‡ªåŠ¨ä¿®å¤ ESLint é—®é¢˜
pnpm format # Prettier æ ¼å¼åŒ–
pnpm type-check # TypeScript ç±»å‹æ£€æŸ¥
pnpm fix # æ ¼å¼åŒ– + ä¿®å¤ä»£ç é—®é¢˜
pnpm validate # å®Œæ•´éªŒè¯ï¼ˆlint + format + type-checkï¼‰

# å·¥å…·

pnpm clean # æ¸…ç†ç¼“å­˜
pnpm info # ç¯å¢ƒä¿¡æ¯## ğŸ“ é¡¹ç›®ç»“æ„

2. **å®‰è£…ä¾èµ–**
   pnpm install
   å±•

{
"recommendations": [
"bradlc.vscode-tailwindcss",
"esbenp.prettier-vscode",
"dbaeumer.vscode-eslint",
"ms-vscode.vscode-typescript-next",
"graphql.vscode-graphql",
"unifiedjs.vscode-mdx"
]
}### EditorConfig

é¡¹ç›®åŒ…å« `.editorconfig` æ–‡ä»¶ï¼Œç¡®ä¿ç¼–è¾‘å™¨è®¾ç½®ä¸€è‡´ï¼š

root = true

[*]
end_of_line = lf
insert_final_newline = true

[*.{js,json,yml}]
charset = utf-8
indent_style = space
indent_size = 2## ğŸ”§ ä»£ç è§„èŒƒä¸å·¥å…·é“¾

### ESLint é…ç½®è¯¦è§£

é¡¹ç›®ä½¿ç”¨å®Œå–„çš„ ESLint é…ç½®ï¼Œé›†æˆäº†å¤šä¸ªè§„åˆ™é›†ï¼š

#### æ ¸å¿ƒæ‰©å±•

- `eslint:recommended` - ESLint åŸºç¡€è§„åˆ™
- `plugin:import/recommended` - å¯¼å…¥è¯­å¥è§„èŒƒ
- `plugin:react/recommended` - React æœ€ä½³å®è·µ
- `plugin:@typescript-eslint/recommended` - TypeScript è§„åˆ™
- `plugin:prettier/recommended` - Prettier é›†æˆ
- `plugin:react-hooks/recommended` - React Hooks è§„åˆ™

#### å¯¼å…¥æ’åºè§„åˆ™

// å¯¼å…¥é¡ºåºï¼š
// 1. Node.js å†…ç½®æ¨¡å—
import path from "path"
import fs from "fs"

// 2. å¤–éƒ¨ npm åŒ…
import React from "react"
import { graphql } from "gatsby"

// 3. Gatsby ç›¸å…³ï¼ˆç‰¹æ®Šå¤„ç†ï¼‰
import { Link } from "gatsby"

// 4. å†…éƒ¨åˆ«åå¯¼å…¥
import { siteConfig } from "@/config"
import Button from "@/components/Button"

// 5. ç›¸å¯¹è·¯å¾„å¯¼å…¥
import { useStyles } from "./styles"
import Component from "../Component"

// 6. ç±»å‹å¯¼å…¥
import type { FC } from "react"#### ä¸»è¦è§„åˆ™

{
// ä»£ç è´¨é‡
"no-console": ["warn", { "allow": ["warn", "error"] }],
"@typescript-eslint/no-unused-vars": ["error", {
"argsIgnorePattern": "^_",
"varsIgnorePattern": "^_"
}],

// React ç›¸å…³
"react/react-in-jsx-scope": "off",
"react/prop-types": "off",

// TypeScript ç›¸å…³
"@typescript-eslint/explicit-function-return-type": "off",
"@typescript-eslint/no-explicit-any": "warn"
}### Prettier é…ç½®

{
"printWidth": 100,
"semi": false,
"singleQuote": false,
"tabWidth": 2,
"trailingComma": "es5",
"arrowParens": "always",
"endOfLine": "lf"
}### TypeScript é…ç½®

å…³é”®é…ç½®é¡¹ï¼š

{
"compilerOptions": {
"target": "ES2022",
"jsx": "react-jsx",
"module": "esnext",
"moduleResolution": "node",
"baseUrl": "./",
"paths": {
"@/_": ["./src/_"],
"env.config": ["./env.config.ts"]
},
"strict": true,
"skipLibCheck": true
}
}## ğŸ”„ å¼€å‘å·¥ä½œæµ

### Git å·¥ä½œæµ

1. **åˆ†æ”¯ç­–ç•¥**
   main # ä¸»åˆ†æ”¯ï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
   develop # å¼€å‘åˆ†æ”¯
   feature/_ # åŠŸèƒ½åˆ†æ”¯
   hotfix/_ # çƒ­ä¿®å¤åˆ†æ”¯ 2. **æäº¤è§„èŒƒ**ï¼ˆåŸºäº Conventional Commitsï¼‰
   feat: æ·»åŠ æ–°åŠŸèƒ½
   fix: ä¿®å¤é—®é¢˜
   docs: æ›´æ–°æ–‡æ¡£
   style: ä»£ç æ ¼å¼åŒ–
   refactor: ä»£ç é‡æ„
   test: æ·»åŠ æµ‹è¯•
   chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
   ### Pre-commit Hooks

é¡¹ç›®é…ç½®äº†è‡ªåŠ¨åŒ–çš„ä»£ç è´¨é‡æ£€æŸ¥ï¼š

# æ¯æ¬¡æäº¤å‰è‡ªåŠ¨æ‰§è¡Œ

1. ç‰ˆæœ¬å·è‡ªåŠ¨æ›´æ–°
2. ESLint ä»£ç æ£€æŸ¥
3. Prettier æ ¼å¼æ£€æŸ¥
4. TypeScript ç±»å‹æ£€æŸ¥### å¼€å‘æµç¨‹

5. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   git checkout -b feature/your-feature-name 2. **ç¼–å†™ä»£ç **

   - éµå¾ª ESLint è§„åˆ™
   - ä½¿ç”¨ TypeScript ç±»å‹
   - æ·»åŠ é€‚å½“çš„æ³¨é‡Š

6. **æäº¤ä»£ç **
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½æè¿°" 4. **æ¨é€å¹¶åˆ›å»º PR**
   git push origin feature/your-feature-name
   ## ğŸ“ å†…å®¹åˆ›ä½œæŒ‡å—

### MDX æ–‡ç« æ ¼å¼

---

title: "æ–‡ç« æ ‡é¢˜"
date: "2024-01-01"
description: "æ–‡ç« æè¿°"
tags: ["JavaScript", "React"]
published: true
template: "post"

---

# æ–‡ç« æ ‡é¢˜

è¿™é‡Œæ˜¯æ–‡ç« å†…å®¹...

## ä»£ç å—ç¤ºä¾‹

const hello = () => {
console.log("Hello World!")
}## React ç»„ä»¶ç¤ºä¾‹

<CustomComponent prop="value" />

## æ•°å­¦å…¬å¼

$$
E = mc^2
$$### æ”¯æŒçš„ç»„ä»¶

- ä»£ç é«˜äº®ï¼šPrism.js
- æ•°å­¦å…¬å¼ï¼šKaTeX
- è‡ªå®šä¹‰ç»„ä»¶ï¼šå¯åœ¨ MDX ä¸­ä½¿ç”¨
- ä»£ç æ¼”ç¤ºï¼šSandpack integration

## ğŸ— æ„å»ºå’Œéƒ¨ç½²

### æœ¬åœ°æ„å»º

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm serve### éƒ¨ç½²åˆ° Netlify

1. è¿æ¥ GitHub ä»“åº“
2. è®¾ç½®æ„å»ºå‘½ä»¤ï¼š`pnpm build`
3. è®¾ç½®å‘å¸ƒç›®å½•ï¼š`public`
4. ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰

### éƒ¨ç½²é…ç½®

`netlify.toml` é…ç½®ï¼š

[build]
  publish = "public"
  command = "pnpm build"

[build.environment]
  NODE_VERSION = "18"
  NPM_FLAGS = "--prefix=/dev/null"

[[redirects]]
  from = "/*"
  to = "/404.html"
  status = 404## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ

A: åœ¨ `src/pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ç»„ä»¶æ–‡ä»¶ï¼ŒGatsby ä¼šè‡ªåŠ¨ç”Ÿæˆè·¯ç”±ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰ä¸»é¢˜ï¼Ÿ

A: ä¿®æ”¹ `src/customize-theme/` ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ç»„ä»¶ï¼Ÿ

A: åœ¨ `src/components/` ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶ï¼Œå¹¶æ·»åŠ ç›¸åº”çš„æ ·å¼å’Œç±»å‹å®šä¹‰ã€‚

### Q: GraphQL æŸ¥è¯¢å‡ºé”™æ€ä¹ˆåŠï¼Ÿ

A: ä½¿ç”¨ `http://localhost:8008/___graphql` è°ƒè¯• GraphQL æŸ¥è¯¢ã€‚

### Q: å¦‚ä½•ä¼˜åŒ–æ„å»ºæ€§èƒ½ï¼Ÿ

A:
- ä½¿ç”¨ `gatsby clean` æ¸…ç†ç¼“å­˜
- ä¼˜åŒ–å›¾ç‰‡èµ„æº
- æ£€æŸ¥æ’ä»¶é…ç½®

## ğŸ¤ è´¡çŒ®æŒ‡å—

### è´¡çŒ®æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. é€šè¿‡æ‰€æœ‰æ£€æŸ¥
5. åˆ›å»º Pull Request

### ä»£ç è´¡çŒ®è§„èŒƒ

- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„ç±»å‹å®šä¹‰
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

### Issue æŠ¥å‘Š

æäº¤ Issue æ—¶è¯·åŒ…å«ï¼š
- é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- ç¯å¢ƒä¿¡æ¯
- ç›¸å…³æˆªå›¾

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäº [taniarascia.com](https://github.com/taniarascia/taniarascia.com) çš„åŸå§‹ä»£ç ï¼Œå¹¶ç”± [Jonhn](https://github.com/Jiohon) è‡ª 2022å¹´ä»¥æ¥è¿›è¡Œä¿®æ”¹å’Œå¢å¼ºã€‚

---

<div align="center">

**å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æäº¤ [Issue](https://github.com/Jiohon/blog/issues) æˆ– [PR](https://github.com/Jiohon/blog/pulls)**

</div>
$$
